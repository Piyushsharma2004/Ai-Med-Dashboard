(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{42009:function(e,s,t){Promise.resolve().then(t.bind(t,8347))},8347:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var r=t(57437),n=t(2265),a=t(47907),l=t(98793),o=t(26509),i=t(20606),c=t(52235),d=t(79990),u=t(53879),m=t(67366),x=t(73107);let g={userName:null},h=async e=>{if(e.length>100)return"Please keep your message under 100 words.";if(!g.userName)return 1===e.trim().split(" ").length&&e.length>1?(g.userName=e.trim(),"Nice to meet you, ".concat(g.userName,"! How can I help you today?")):"Before we begin, could you tell me your name?";try{var s,t;let r=await x.Z.post("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=".concat("AIzaSyDuIGSUrD5BzrSkxlL1mH9lsg7Jd7wuVkg"),{contents:[{parts:[{text:"You are Medigo AI, a medical assistant. Always address the user by name: ".concat(g.userName,". \n                Provide a helpful, concise medical response to: ").concat(e)}]}],generationConfig:{maxOutputTokens:300,temperature:.7}},{headers:{"Content-Type":"application/json"}});return(null===(t=r.data.candidates[0])||void 0===t?void 0:null===(s=t.content.parts[0])||void 0===s?void 0:s.text)||"No response generated."}catch(e){return console.error("Gemini API Error:",e),"Sorry, I encountered an error processing your request."}};var f=()=>{let[e,s]=(0,n.useState)(!1),[t,a]=(0,n.useState)(!1),[l,x]=(0,n.useState)([{id:0,text:"Hello! I'm your AI Medical Assistant. How can I help you today?",sender:"bot",timestamp:new Date}]),[g,f]=(0,n.useState)(""),[p,j]=(0,n.useState)(!1),[w,v]=(0,n.useState)(null),b=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=()=>{a(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let N=()=>{var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,n.useEffect)(()=>{N()},[l]);let y=async()=>{if(!g.trim())return;v(null);let e={id:Date.now(),text:g,sender:"user",timestamp:new Date};x(s=>[...s,e]),f(""),j(!0);try{let e=await h(g),s={id:Date.now()+1,text:e,sender:"bot",timestamp:new Date};x(e=>[...e,s])}catch(t){console.error("Chatbot error:",t);let e="An unexpected error occurred. Please try again.",s={id:Date.now()+2,text:e,sender:"bot",timestamp:new Date};x(e=>[...e,s]),v(e)}finally{j(!1)}},k=e=>{var s;let{message:t}=e;return(0,r.jsx)("div",{className:"flex mb-4 ".concat("user"===t.sender?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:["bot"===t.sender&&(0,r.jsx)(o.Z,{className:"w-6 h-6 text-orange-600"}),"user"===t.sender&&(0,r.jsx)(i.Z,{className:"w-6 h-6 text-gray-500"}),(0,r.jsxs)("div",{className:"\n          p-3 rounded-lg max-w-[70%]\n          ".concat("user"===t.sender?"bg-orange-500 text-white":"bg-gray-200 text-gray-800","\n        "),children:[(0,r.jsx)("p",{children:t.text}),(0,r.jsx)("span",{className:"text-xs text-gray-500 block mt-1",children:null===(s=t.timestamp)||void 0===s?void 0:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(()=>(0,r.jsx)("div",{onClick:()=>s(!0),className:"fixed bottom-6 right-6 bg-orange-600 text-white  rounded-full p-4 shadow-2xl hover:bg-orange-700  transition-all cursor-pointer z-50",children:(0,r.jsx)(m.Z,{className:"w-6 h-6"})}),{}),e&&(t?(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"fixed inset-0 bg-white  flex flex-col overflow-hidden z-[9999]",children:[(0,r.jsxs)("div",{className:"bg-orange-600 text-white p-4 flex items-center justify-between",children:[(0,r.jsxs)("button",{onClick:()=>s(!1),className:"flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"w-6 h-6"}),(0,r.jsx)("span",{children:"Back"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"w-6 h-6"}),(0,r.jsx)("span",{children:"Medical AI"})]})]}),(0,r.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[l.map(e=>(0,r.jsx)(k,{message:e},e.id)),p&&(0,r.jsx)("div",{className:"flex justify-start mb-4",children:(0,r.jsx)("div",{className:"bg-gray-200 p-3 rounded-lg",children:(0,r.jsx)("div",{className:"animate-pulse",children:"Typing..."})})}),(0,r.jsx)("div",{ref:b})]}),w&&(0,r.jsx)("div",{className:"bg-red-100 text-red-800 p-2 text-center",children:w}),(0,r.jsxs)("div",{className:"p-4 border-t flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Ask a medical question...",value:g,onChange:e=>{f(e.target.value),e.target.focus()},onKeyPress:e=>"Enter"===e.key&&y(),className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:p,autoFocus:!0}),(0,r.jsx)("button",{onClick:y,disabled:p||!g.trim(),className:"\n            bg-orange-500 text-white p-3 rounded-full \n            ".concat(p||!g.trim()?"opacity-50 cursor-not-allowed":"hover:bg-orange-600","\n          "),children:(0,r.jsx)(d.Z,{className:"w-6 h-6"})})]})]}),{}):(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"fixed bottom-24 right-6 w-96 bg-white  rounded-2xl shadow-2xl border border-gray-200  flex flex-col overflow-hidden h-[520px] z-[9999]",children:[(0,r.jsxs)("div",{className:"bg-orange-600 text-white p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"w-6 h-6"}),(0,r.jsx)("span",{children:"Medical AI Assistant"})]}),(0,r.jsx)("button",{onClick:()=>s(!1),children:(0,r.jsx)(c.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[l.map(e=>(0,r.jsx)(k,{message:e},e.id)),p&&(0,r.jsx)("div",{className:"flex justify-start mb-4",children:(0,r.jsx)("div",{className:"bg-gray-200 p-3 rounded-lg",children:(0,r.jsx)("div",{className:"animate-pulse",children:"Typing..."})})}),(0,r.jsx)("div",{ref:b})]}),w&&(0,r.jsx)("div",{className:"bg-red-100 text-red-800 p-2 text-center",children:w}),(0,r.jsxs)("div",{className:"p-4 border-t flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Ask a medical question...",value:g,onChange:e=>{f(e.target.value),e.target.focus()},onKeyPress:e=>"Enter"===e.key&&y(),className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:p,autoFocus:!0}),(0,r.jsx)("button",{onClick:y,disabled:p||!g.trim(),className:"\n            bg-orange-500 text-white p-2 rounded-full \n            ".concat(p||!g.trim()?"opacity-50 cursor-not-allowed":"hover:bg-orange-600","\n          "),children:(0,r.jsx)(d.Z,{className:"w-5 h-5"})})]})]}),{}))]})},p=t(69724),j=()=>{let[e,s]=(0,n.useState)(!0),[t,a]=(0,n.useState)(100);return((0,n.useEffect)(()=>{let e=Date.now(),t=requestAnimationFrame(function t(){let r=Math.max(0,100-(Date.now()-e)/1e4*100);a(r),r>0?requestAnimationFrame(t):s(!1)});return()=>cancelAnimationFrame(t)},[]),e)?(0,r.jsx)("div",{className:"fixed top-6 right-10 z-[9999999] w-80",children:(0,r.jsxs)("div",{className:"relative bg-white/20 backdrop-blur-lg border border-orange-400 rounded-xl shadow-xl overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-orange-400",style:{width:"".concat(t,"%")}}),(0,r.jsxs)("div",{className:"p-4 flex items-center",children:[(0,r.jsx)("div",{className:"bg-orange-100/50 rounded-full p-2 mr-3",children:(0,r.jsx)(p.Z,{className:"text-orange-600 w-6 h-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-orange-600 font-semibold text-base mb-1",children:"AI Models in Development"}),(0,r.jsx)("p",{className:"text-orange-600 text-xs",children:"Than check our ML models in Test Model Page"})]})]})]})}):null},w=e=>{let{children:s}=e,t=(0,a.useRouter)(),[o,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=(0,l.wt)();i(e),e||t.push("/auth/signin")},[t]),(0,l.ts)(),o?(0,r.jsxs)("div",{className:"dashboard-layout",children:[(0,r.jsx)(j,{}),(0,r.jsx)("main",{children:s}),(0,r.jsx)(f,{})]}):null}},98793:function(e,s,t){"use strict";t.d(s,{TX:function(){return o},pH:function(){return l},ts:function(){return a},wt:function(){return n}});let r={"Admin@123":{password:"admin123",role:"admin",name:"Admin User"},"UserVi@123":{password:"user123",role:"user",name:"Regular User"}};function n(){return!!localStorage.getItem("user_session")}function a(){{let e=localStorage.getItem("user_session");try{return e?JSON.parse(e):null}catch(e){console.error("Error parsing user session:",e)}}return null}function l(e,s){try{let t=function(e,s){let t=r[e];if(t&&t.password===s){let{password:s,...r}=t;return{...r,username:e}}return null}(e,s);if(t)return localStorage.setItem("user_session",JSON.stringify(t)),{success:!0,user:t};return{success:!1,error:"Invalid credentials"}}catch(e){return{success:!1,error:"Login failed: ".concat(e instanceof Error?e.message:"Unknown error")}}}function o(){try{localStorage.removeItem("user_session")}catch(e){throw Error("Logout failed: ".concat(e instanceof Error?e.message:"Unknown error"))}}}},function(e){e.O(0,[890,971,69,744],function(){return e(e.s=42009)}),_N_E=e.O()}]);